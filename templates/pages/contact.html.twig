{% extends 'base.html.twig' %}

{% block title %}Contactez-nous | Ibraza Infogérance
{% endblock %}

{% block seo %}
<meta name="description" content="Besoin d’aide informatique ou d’un devis ? Contactez Ibraza Infogérance par téléphone, mail ou formulaire. Réponse rapide et professionnelle.">
{% endblock %}

{% block body %}
	<section class="py-20 bg-gray-50">
		<div class="container mx-auto px-4">
			<div class="text-center mb-16">
				<h1 class="text-3xl md:text-4xl font-bold text-secondary mb-4">{{ page.title }}</h1>
				<div class="w-20 h-1 bg-primary mx-auto mb-6"></div>
				<p class="text-gray-600 max-w-2xl mx-auto">
					{{ page.subtitle }}
				</p>
			</div>


			<div
				class="flex flex-col lg:flex-row gap-10">
				<!-- Formulaire -->
				<div class="lg:w-1/2">
					<form action="{{ path('app_contact') }}" method="post" class="bg-white p-8 rounded-lg shadow-md">
						<div class="mb-6">
							<label for="name" class="block text-gray-700 font-medium mb-2">Nom complet <strong class="text-secondary">*</strong> :</label>
							<input type="text" name="name" id="name" placeholder="Ex. : Jean Dupont" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
						</div>
						<div class="mb-6">
							<label for="email" class="block text-gray-700 font-medium mb-2">Email <strong class="text-secondary">*</strong> :</label>
							<input type="email" name="email" id="email" placeholder="Ex. : jean.dupont@email.com" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
						</div>
						<div class="mb-6">
							<label for="phone" class="block text-gray-700 font-medium mb-2">Téléphone <strong class="text-secondary">*</strong> :</label>
							<input type="tel" name="phone" id="phone" placeholder="Ex. : 06 12 34 56 78" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
						</div>
						<div class="mb-6">
							<label for="subject" class="block text-gray-700 font-medium mb-2">Objet <strong class="text-secondary">*</strong> :</label>
							<input type="text" name="subject" id="subject" placeholder="Ex. : Demande d'information, assistance..." required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
						</div>
						<div class="mb-6">
							<label for="message" class="block text-gray-700 font-medium mb-2">Message <strong class="text-secondary">*</strong> :</label>
							<textarea name="message" id="message" rows="5" placeholder="Décrivez votre besoin ou posez votre question ici..." required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
						</div>
						<hr>
						<div class="mb-6">
							<label class="inline-flex items-start space-x-2">
								<input type="checkbox" name="privacy" required class="mt-1">
								<span class="text-sm text-gray-700">
									J’accepte que mes informations soient utilisées pour traiter ma demande, conformément à la
									<a href="{{ path('app_politique_confidentialite') }}" class="text-primary underline">politique de confidentialité</a>.
								<strong class="text-secondary">*</strong></span>
							</label>
						</div>
						<div class="g-recaptcha" data-sitekey="{{ site_key }}"></div>

						<div>
							<button type="submit" class="bg-primary hover:bg-primary/90 text-white font-bold py-3 px-6 rounded-lg transition duration-300 w-full">
								Envoyer le message
							</button>
						</div>
					</form>
				</div>

				<!-- Coordonnées -->
				<div class="lg:w-1/2">
					<div class="bg-white p-8 rounded-lg shadow-md h-full">
						<h3 class="text-xl font-bold text-primary mb-6">Nos coordonnées</h3>
						<div class="space-y-6">
							{% for c in coordonnees %}
								<div class="flex items-start">
									<div class="bg-secondary/10 p-3 rounded-full mr-4">
										<i class="{{ c.icon }} text-secondary"></i>
									</div>
									<div>
										<h4 class="font-bold text-primary/90 mb-1">{{ c.type }}</h4>
										<p class="text-gray-600">{{ c.value|raw }}</p>
									</div>
								</div>
							{% endfor %}
						</div>

						{% if reseauxsociaux %}
							<div class="mt-8">
								<h4 class="font-bold text-primary/90 mb-4">Suivez-nous</h4>
								<div class="flex space-x-4">
									{% for rs in reseauxsociaux %}
										<a href="{{ rs.url }}" target="_blank" title="{{ rs.name }}" class="bg-secondary/10 hover:bg-primary/20 text-secondary hover:text-primary p-3 rounded-full transition duration-300">
											<i class="{{ rs.icon }}"></i>
										</a>
									{% endfor %}
								</div>
							</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Google Map -->
	<div class="h-96 w-full">
		{{ mapembed.iframe|raw }}
	</div>
{% endblock %}
{% block javascripts %}
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock %}